import{h as t,u as c,ax as b,X as f,l as a,b as l}from"./runtime.BrVA7zyZ.js";function d(e,s,n){if(e==null)return s(void 0),t;const u=c(()=>e.subscribe(s,n));return u.unsubscribe?()=>u.unsubscribe():u}let r=!1;function p(e,s,n){const u=n[s]??(n[s]={store:null,source:f(void 0),unsubscribe:t});if(u.store!==e)if(u.unsubscribe(),u.store=e??null,e==null)u.source.v=void 0,u.unsubscribe=t;else{var i=!0;u.unsubscribe=d(e,o=>{i?u.source.v=o:l(u.source,o)}),i=!1}return a(u.source)}function _(e,s){return e.set(s),s}function g(e,s){var n=e[s];n.store!==null&&_(n.store,n.source.v)}function y(){const e={};return b(()=>{for(var s in e)e[s].unsubscribe()}),e}function x(e,s,n){return e.set(n),s}function w(e){var s=r;try{return r=!1,[e(),r]}finally{r=s}}export{p as a,x as b,w as c,g as i,y as s};
